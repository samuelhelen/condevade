
## auto detects a good number of processes to run
#worker_processes auto;

##Provides the configuration file context in which the directives that affect connection processing are specified.
#events {
#    # Sets the maximum number of simultaneous connections that can be opened by a worker process.
#    worker_connections 8000;
#    # Tells the worker to accept multiple connections at a time
#    multi_accept on;
#}



upstream service1 {
    server service1:8199;
}



server {
    # listen 80;
	listen 8198;

   # save logs here
   # access_log /var/log/nginx/access.log compression;

   # root /var/www;
   # index index.html index.htm;

	# ???????? TODO ??
    resolver 127.0.0.11 valid=5s;

    # obsolete:
    include /etc/nginx/mime.types;

    location / {
	   proxy_pass http://service1/;
    }

   # location / {
   #     # First attempt to serve request as file, then
   #     # as directory, then fall back to redirecting to index.html
   #     try_files $uri $uri/ /index.html;
   # }
   # Any route containing a file extension (e.g. /devicesfile.js)
   # location ~ ^.+\..+$ {
   #     try_files $uri =404;
   # }

}

